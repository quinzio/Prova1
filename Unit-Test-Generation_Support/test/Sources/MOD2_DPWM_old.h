/************************* (c) 2019  SPAL Automotive *************************
PROJECT  :  JLR - MLA

MODULE   :  MOD2_DPWM_old.h

VERSION  :  1.1

AUTHORS  :  Ianni Fabrizio

******************************************************************************/

/** 
    \file MOD2_DPWM_old.h
    \version see \ref FMW_VERSION
    \brief Header with the PWM modulation table
    \details This file contains the PWM modulation table.
*/

#ifndef DPWM_H
#define DPWM_H  

/* Public Constants -------------------------------------------------------- */
/**    
    \def ARRAY_PWM_MOD
    \brief Here is stored the PWM modulation table
    \details Due to motor construction, it's needed a sinusoidal delta voltage waveform to drive the motor.
    To do that, the PWM signals that drives the motor have to be drived with a dutycycle waveform that can 
    achive this task. So in the microcontroller  a LUT is mapped with the Discontinue PWM that can produce
    a sinusoidal delta voltage.
    <em> This reference is done because doxygen can't recognize static variables. The define declared is only
    a dummy reference to document PWM_MOD[512] </em>
    
    \image rtf PWM_MOD.JPG "PWM Array Table" width=10cm   
    \image html PWM_MOD.JPG "PWM Array Table" width=10cm 
    Image from "\\galileo\Elettronica\- SOFTWARE STRUCTURE\DoxyGen Images"
    
    \note This variable is allocated in the \b FLASH memory
    \warning It's mandatory to be a \b STATIC variable to avoid repetition in code
*/

#define ARRAY_PWM_MOD

static const u8 PWM_MOD[512]=
  {
127,
130,
132,
135,
138,
140,
143,
145,
148,
151,
153,
156,
158,
160,
163,
165,
168,
170,
172,
175,
177,
179,
181,
183,
186,
188,
190,
192,
194,
196,
198,
200,
202,
204,
206,
207,
209,
211,
213,
214,
216,
218,
219,
221,
222,
224,
225,
227,
228,
230,
231,
232,
233,
235,
236,
237,
238,
239,
240,
241,
242,
243,
244,
245,
246,
247,
247,
248,
249,
249,
250,
251,
251,
252,
252,
252,
253,
253,
253,
254,
254,
254,
254,
254,
254,
255,
254,
254,
254,
254,
254,
254,
254,
253,
253,
253,
252,
252,
251,
251,
250,
250,
249,
249,
248,
247,
246,
246,
245,
244,
243,
242,
241,
240,
239,
238,
237,
235,
234,
233,
232,
230,
229,
228,
226,
225,
223,
222,
220,
222,
223,
225,
226,
228,
229,
230,
232,
233,
234,
235,
237,
238,
239,
240,
241,
242,
243,
244,
245,
246,
246,
247,
248,
249,
249,
250,
250,
251,
251,
252,
252,
253,
253,
253,
254,
254,
254,
254,
254,
254,
254,
255,
254,
254,
254,
254,
254,
254,
253,
253,
253,
252,
252,
252,
251,
251,
250,
249,
249,
248,
247,
247,
246,
245,
244,
243,
242,
241,
240,
239,
238,
237,
236,
235,
233,
232,
231,
230,
228,
227,
225,
224,
222,
221,
219,
218,
216,
214,
213,
211,
209,
207,
206,
204,
202,
200,
198,
196,
194,
192,
190,
188,
186,
183,
181,
179,
177,
175,
172,
170,
168,
165,
163,
160,
158,
156,
153,
151,
148,
145,
143,
140,
138,
135,
132,
130,
127,
124,
122,
119,
116,
113,
110,
108,
105,
102,
99,
96,
93,
90,
87,
84,
81,
78,
76,
73,
70,
67,
63,
60,
57,
54,
51,
48,
45,
42,
39,
36,
33,
30,
27,
23,
20,
17,
14,
11,
8,
5,
2,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
2,
5,
8,
11,
14,
17,
20,
23,
27,
30,
33,
36,
39,
42,
45,
48,
51,
54,
57,
60,
63,
67,
70,
73,
76,
78,
81,
84,
87,
90,
93,
96,
99,
102,
105,
108,
110,
113,
116,
119,
122,
124
};

/* -------------------------- Public type definition --------------------- */

/* -------------------------- Public Variables --------------------------- */
 
/* -------------------------- Public Functions prototypes ---------------- */

/* -------------------------- Tacho functions ---------------------------- */

/* -------------------------- Low Power function ------------------------- */

/*--------------------------- Timer function ------------------------------*/

/*--------------------------- Gate driver function ------------------------*/

#endif
/*** (c) 2007 SPAL Automotive ****************** END OF FILE **************/
