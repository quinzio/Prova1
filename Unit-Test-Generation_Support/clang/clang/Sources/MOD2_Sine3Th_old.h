/************************* (c) 2019  SPAL Automotive *************************
PROJECT  :  JLR - MLA

MODULE   :  MOD2_Sine3Th_old.h

VERSION  :  1.1

AUTHORS  :  Ianni Fabrizio

******************************************************************************/

/** 
    \file MOD2_Sine3Th_old.h
    \version see \ref FMW_VERSION
    \brief Header with the PWM overmodulation table
    \details This file contains the PWM overmodulation table.
*/

#ifndef SINE3TH_H
#define SINE3TH_H   

/* Public Constants -------------------------------------------------------- */
/**    
    \def ARRAY_PWM_OVERMOD
    \brief Here is stored the PWM overmodulation table
    \details Due to motor construction, it's needed a sinusoidal delta voltage waveform to drive the motor.
    To do that, the PWM signals that drives the motor have to be drived with a dutycycle waveform that can 
    achive this task. All this has to be done to achive the maximal efficiency.\n
    Sometimes it's accepted to lose a lettle bit efficiency to improve other parameters: EMI, speed, ....
    So the delta voltage can be distorted and be different from a perfect sinusoid to better achive other result; 
    in this specific case it's introduced an overmodulation done to achive the EMI and speed requirements
    
    \par Overmodulation Starting Requirements
    <a href="file:///@REQUIREMENT_PATH/@REQUIREMENT_FILE"> Software Requirement Specification </a>

    <em> This reference is done because doxygen can't recognize static variables. The define declared is only
    a dummy reference to document PWM_MOD_3TH[512] </em>
    
    \image rtf PWM_MOD_3TH.JPG "PWM Array Table in overmodulation" width=10cm   
    \image html PWM_MOD_3TH.JPG "PWM Array Table in overmodulation" width=10cm 
    Image from "\\galileo\Elettronica\- SOFTWARE STRUCTURE\DoxyGen Images"
    
    
        
    \note This variable is allocated in the \b FLASH memory
    \warning It's mandatory to be a \b STATIC variable to avoid repetition in code
*/

#define ARRAY_PWM_OVERMOD

/* Public Constants -------------------------------------------------------- */
static const u8 PWM_MOD_3TH[512]=
  {
127,
130,
132,
135,
138,
140,
143,
146,
148,
151,
154,
156,
159,
161,
164,
167,
169,
172,
174,
177,
179,
181,
184,
186,
188,
191,
193,
195,
197,
199,
202,
204,
206,
208,
210,
212,
213,
215,
217,
219,
220,
222,
224,
225,
227,
228,
230,
231,
233,
234,
235,
236,
237,
239,
240,
241,
242,
243,
244,
244,
245,
246,
247,
247,
248,
249,
249,
250,
250,
251,
251,
252,
252,
252,
253,
253,
253,
253,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
253,
253,
253,
253,
253,
253,
252,
252,
252,
252,
252,
252,
251,
251,
251,
251,
251,
251,
250,
250,
250,
250,
250,
250,
250,
250,
250,
250,
249,
249,
249,
249,
249,
249,
249,
249,
249,
249,
249,
250,
250,
250,
250,
250,
250,
250,
250,
250,
250,
251,
251,
251,
251,
251,
251,
252,
252,
252,
252,
252,
252,
253,
253,
253,
253,
253,
253,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
254,
253,
253,
253,
253,
252,
252,
252,
251,
251,
250,
250,
249,
249,
248,
247,
247,
246,
245,
244,
244,
243,
242,
241,
240,
239,
237,
236,
235,
234,
233,
231,
230,
228,
227,
225,
224,
222,
220,
219,
217,
215,
213,
212,
210,
208,
206,
204,
202,
199,
197,
195,
193,
191,
188,
186,
184,
181,
179,
177,
174,
172,
169,
167,
164,
161,
159,
156,
154,
151,
148,
146,
143,
140,
138,
135,
132,
130,
127,
124,
121,
119,
116,
113,
111,
108,
105,
103,
100,
97 ,
95 ,
92 ,
90 ,
87 ,
85 ,
82 ,
80 ,
77 ,
75 ,
72 ,
70 ,
68 ,
65 ,
63 ,
61 ,
58 ,
56 ,
54 ,
52 ,
50 ,
48 ,
46 ,
44 ,
42 ,
40 ,
38 ,
37 ,
35 ,
33 ,
31 ,
30 ,
28 ,
27 ,
25 ,
24 ,
22 ,
21 ,
20 ,
19 ,
17 ,
16 ,
15 ,
14 ,
13 ,
12 ,
11 ,
10 ,
9  ,
8  ,
8  ,
7  ,
6  ,
6  ,
5  ,
4  ,
4  ,
3  ,
3  ,
2  ,
2  ,
2  ,
1  ,
1  ,
1  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
1  ,
1  ,
1  ,
1  ,
1  ,
1  ,
2  ,
2  ,
2  ,
2  ,
2  ,
2  ,
3  ,
3  ,
3  ,
3  ,
3  ,
3  ,
3  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
4  ,
3  ,
3  ,
3  ,
3  ,
3  ,
3  ,
3  ,
2  ,
2  ,
2  ,
2  ,
2  ,
2  ,
1  ,
1  ,
1  ,
1  ,
1  ,
1  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
0  ,
1  ,
1  ,
1  ,
2  ,
2  ,
2  ,
3  ,
3  ,
4  ,
4  ,
5  ,
6  ,
6  ,
7  ,
8  ,
8  ,
9  ,
10 ,
11 ,
12 ,
13 ,
14 ,
15 ,
16 ,
17 ,
19 ,
20 ,
21 ,
22 ,
24 ,
25 ,
27 ,
28 ,
30 ,
31 ,
33 ,
35 ,
37 ,
38 ,
40 ,
42 ,
44 ,
46 ,
48 ,
50 ,
52 ,
54 ,
56 ,
58 ,
61 ,
63 ,
65 ,
68 ,
70 ,
72 ,
75 ,
77 ,
80 ,
82 ,
85 ,
87 ,
90 ,
92 ,
95 ,
97 ,
100,
103,
105,
108,
111,
113,
116,
119,
121,
124
};

/* -------------------------- Public type definition --------------------- */

/* -------------------------- Public Variables --------------------------- */
 
/* -------------------------- Public Functions prototypes ---------------- */

/* -------------------------- Tacho functions ---------------------------- */

/* -------------------------- Low Power function ------------------------- */

/*--------------------------- Timer function ------------------------------*/

/*--------------------------- Gate driver function ------------------------*/

#endif
/*** (c) 2007 SPAL Automotive ****************** END OF FILE **************/
